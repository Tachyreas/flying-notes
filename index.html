<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Markdown Notes</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="A simple, offline-capable markdown notes app">
    <meta name="theme-color" content="#3b82f6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="MD Notes">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Icons for PWA -->
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADH0lEQVR4nO2bTWgTQRTHf5ukadM0bRJrP6y1VqtUD4KIonjwIIjgRUEQPHgQL168eBDEi4IHPXjw4EEQxIMHQRAEQRBEEERBFLWKtbW2+dDaJk2bNmnSJBt5C0vYbHY3s5vdpO0PXiCZ2Zn3/2Z23rz3ZkFBQUFBQUFBQaEpkQLeA1+ACSAO5KRPXHoWk8okpToKNgJngHFgATDK/BbQx6TPmFRXwQrgOnCVEu6o9LkOrFTamwJrgFdAFv0kgUHgJnAOOALslz7npM+g9ExP3azUpsFG9Fs+BdwCtgJuBe4u4KBUd0qnrxtQgwdtwGGgF5gH1JIH7gF7ABsWcQi4S2mFZgUT8A6r2Ac8ouJhYy0eD9aDHOjP9bfA6jo87wHOUlqzK8QG9Nv9M9DZgO87gSGdbbK+Uc8dwAjGSQOX0e+NHOiP2cimCzYDUxgnCXRYwH0B/VsiYwUd7ED/vJ6QnnvNdO6jdBNMJNvJBvCflurEKR2EtCjkzXCOSSO8VmyibPJzI5XJAa+Bm8AZ4AiwH6iV7LoJXJOeqVHIW42b0rLT4lqxqSCgRCGrBi9Q7xDfAgeAtrIyu1EfiJ3AFbRNLzOWQALY20C7h1E3eTlS/6xGOYHMTIvGZeAjsBPj9AH3Na7ZTgELmC8QD/AYde4A21X+vwIMqPwtJBs0WxT6gBzqnJX+/1FWNosKIQqRBvqwQhRiQCfqXJKe1xJBfS6YnQtOwHxh8gCPNa65SgJ7UTf9LCWHx1YYZOJzQdUJOpLKitWskpfkpLqbAa91tJEBJmvNBe6hHvlN0uqx/hXwCe04h9oqMU7jZoJlTCQXrF2z7gT8Uu9vlEeUdJ1VuJi1A7fRtuWxksuSKXdXO8gp8KdA5YQ3jnrqKyAJ2CldA8YwRoKSSWqLBKQQfOVLGzCAsaWchzoaEoQuU6obMP1Kcgj1/V0tOZQP7oa5gf7bneXkChRGqh4Q29Fnd5vWawCVLbMTOEjJJLULBMqD5vJ8vxZ+SOH6Y6yJEaxGnDJBzOJ0OAIco7oeqKCgoKCgoKCg0Oz8A1Q0Pf+yJy9fAAAAAElFTkSuQmCC">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIk1hcmtkb3duIE5vdGVzIEFwcCIsCiAgInNob3J0X25hbWUiOiAiTUQgTm90ZXMiLAogICJkZXNjcmlwdGlvbiI6ICJBIHNpbXBsZSwgb2ZmbGluZS1jYXBhYmxlIG1hcmtkb3duIG5vdGVzIGFwcCIsCiAgInN0YXJ0X3VybCI6ICIuLyIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2Y5ZmFmYiIsCiAgInRoZW1lX2NvbG9yIjogIiMzYjgyZjYiLAogICJvcmllbnRhdGlvbiI6ICJwb3J0cmFpdCIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTUFBQUFEQUNBWUFBQUJTM0d3SEFDQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBR2RrbEVRVlI0bk8zZGU0aFZWUnpHOGUrTWpxT09qbWpxM3JMU1VqTnZhWm1WbFVWRk40cWlyRC8raUNJS0lxRCtLSUFpQ2lHNUVFRVFYQ0lLSThSOUZFVVJaWkdWWmFacVZscHFYdk9ZOUhaM1JHUjNIbVZseGBaSXg1OFladjNYZnQ1MWo3blBWYkJRQUFBQWZ2MCtJcUl6N2ZCUkJ3SUF0cFI1STlMUXA5RlpIM2t6cm9xUSt1U0RrcksxaFNRZEltbzJ0QUdvUE5JQUFEZFZTRHBBR2pXSk53RWdiMnBEQUFBQVAvS3ZBZ0NBa3FRTHNWZEFKRG44L2NsVFIwcnF3SmF1U3RGOGorUXg3Si92UWdBM0ZRdlYwa1VCZ0pvdUswblJaU1pEamtnNGloT1JrTVdCQU5JSlJyR283aUVHdmRqdXhEZ1RTcUZhc2Y3Y1hBR0hwbHBSekljQUFEQ0pOd0VBZ0F1cGZLRzdVcHROQUFBQ0FibUtmTjVMZ1J3VTZ6S1NyS0RlV0Z3Qjd6TEJZQ1Btb1hWSmF0RHZndUJKSnUzbUNweW1Ha3d3THJQNkgkbGZJMGF4K3QyS2Z6S2Y0ZjU5K2RQSnJBNHJGblArRDBOWE4wQVFBQUxtVmV1S0Y2dW8rU2dCZGZWMzFBQVlBQUFBQUFBQUM4R0lyQzF2QUFBQ0FiMktmTjlIR0ZZRDFCdkFlVWVCT1pSNldOSUpEbndUSGJWWnZ2UXBDVjJTVGErdGNGUVZVQ1NMWlAwcnU5Q0FEZWxUdlo5THFrOUpaQ2doaHJIRU9POGxucDVLTXBodDB3SEhjUTdaLFVaaTNlcEQ4RDg2RFZwWjUraW1NZ2R2RkFBQUFBQUFBQUFBQUFBQVRBSmRZQkZrZ3FpU0txTEErQWtqVktQc2lLSkk3ekxCWUNmS3BONVNaQ2k5d0VNcDB2RzVJcXVKYUltaXRBYzlQQWJ0cGFJMkhBQUE5S3FTZE55VGRJcG10VGl6WGRxbUtpdGRVR3lQWExPVUdXTW1yTzlPaGNvcXBxdGtVaXNrL1NWN001b0F4V2lZcGw1UzVSeFgxU2lwV3BMNm1sckJqUkxFMFBtREt5cFQ3VnFLcGRLR2lJcExlS1NrMyt6RlZOVjRWOVB6TEtvVDVsNWR6OGVEUEpabXR0bkp2K1BoZktZcmZ1QXdLR09qUjZKZUNOWXM3SU1ScFZOYzk5RlZoQW9SZXNsWFNTN2I0SzN5VHBCMEhhc0dkdTlnRkxJMFBtQUpKS0xoVTAzM2NoKy9RM01sbFNzN3NGa1NtVGYxRVBuSGVDcHBIYzJkcGUyU0dvNUx1bFhTNStIVkNuQkRIQnZBQUEraU50d0VBZ0F5cGVLRzdVcnROR0dBQUFBQUFBQUFBQUFBQUFBQUF3UDhZcEVLdGNOb3dZRGFwWjFTcHlzMnd4SGZGOENTRW16SlAwYlFJSklseEFscXRKa3VhTzJrdmRJdUQvYzBZQUR2UHA4UGZkUXJHU0JEblZzK2F6U2t2Q0Uyemt3SXRJNG5Pc3ZWYzhLa21RU2FCQnpKWTBJNmJ6WmxlT2ZkTzAwbCtSWWRLK2tySVBXSlhLdWRPY0pOdGVCeEJKWkkyazd3UGdKSTBWTUNDckNVK3lQTFFkYUd3M0FBQUFBQUFBQUFBQUFBQUFBQUFBQ01pZXJRQUFBQUNNbGVkQlg0Ui9ZVFFBQUFBQUFBQUFBNDI2UHdKQUJJQmRBQUFBQVhSRldIUnpiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlscFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQURQL2R1UmhjYStBQUFBQUpYUkZXSFJZVFV3NmIyMXdPbVJsY216cGNIUnBiMjRBQUFBQUFBRDBQQUFBQUFQZ0E1VGNBQUFBR0MwbEVRVlI0Mm12Ymk2aFZWUnpHOGUrTWhxT09qMmpxM3JMU1VqTnZhWm1WbFVWRk40cWlyRC93aWlDSUNJcUQrS0lBaUNpRzVFRUVRWENJS0k4UjlGRVVSWlpHVlphWnFWbHBxWHZPWTlIWjNSR1IzSG1WbHhZWno5OStiAXM5WnEzU1ptVUFBQUFQQ2VwSzQ0enBmelplZzlyY2tqUkEwcklZNFR5UGdCQ2k5d0VBZ0FQZXNsWFNTN2I0SzN5VHBCMEG5c0dkdTlnRkxJMFBtREt5cFQ3VnFLcGRLR2lJcExlS1NrMyt6RlZOVjRWOVB6TEtvVDVsNWR6OGVEUEpabXR0bkp2K1BoZktZcmZ1QXdLR09qUjZKZUNOWXM3SU1ScFZOYzk5RlZoQW9SZXNsWFNTN2I0SzN5VHBCMEF5cGVLRzdVcnROR0FBQUFBQUFBQUFBQUFBQUFBQUFBQ01pZXJRQUFBQUNNbGVkQlg0Ui9ZVFRCU0FBQUFBQUFBQUFBQUFIAHQ4VHBnU2JKREd2V0RPZlRHQUFBQU1GSlJGVWhPWkFBQUFBR0pRCkNBQkVSY1JzKzlGcnJMY0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVBtVmV1S0Y2dW8rU2dCZGZWMzFBQVlBQUFBQUFBQUM4R0lyQzF2QUFBQ0FieUtmTjlIR0ZZRDFCdkFlVWVCT1pSNldOSUpEbndUSGJWWnZ2UXBDVjJTVGErdGNGUVZVQ1NMWlAwcnU5Q0FEZWxUdlo5THFrOUpaQ2doaHJIRU9POGxucDVLTXBodDB3SEhjUTdaLFVaaTNlcEQ4RDgBClEwUTRvcXBxdGtVaXNrL1NWN001b0F4V2lZcGw1UzVSeFgxU2lwV3BMNm1sckJqUkxFMFBtREt5cFQ3VnFLcGRLR2lJcExlS1NrMyt6RlZOVjRWOVB6TEtvVDVsNWR6OGVEUEpabXR0bkp2K1BoZktZcmZ1QXdLR09qUjZKZUNOWXM3SU1ScFZOYzk5RlZoQW9SZXNsWFNTN2I0SzN5VHBCMEB5cGVLRzdVcnROR0FBQUFBQUFBQUFBQUFBQUFBQUFBQ01pZXJRQUFBQUNNbGVkQlg0Ui9ZVFJCQ0FBQUFBQUFBQUFBQUFOZEF1UVlGQXNfSUFBQUFBU1VWT1JLNUNZSUk9IiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9wbmciCiAgICB9LAogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTUFBQUFEQUNBWUFBQUJTM0d3SEFDQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBR2RrbEVRVlI0bk8zZGU0aFZWUnpHOGUrTWpxT09qbWpxM3JMU1VqTnZhWm1WbFVWRk40cWlyRC8raUNJS0lxRCtLSUFpQ2lHNUVFRVFYQ0lLSThSOUZFVVJaWkdWWmFacVZscHFYdk9ZOUhaM1JHUjNIbVZseFlZejk5K1pzOVpxM1NabVVBQUFBUENlcEs0NHpwZnpaZWc5cmNralJBMHJJWTRUeVBnQkNpOXdFQWdBdXBmS0c3VXJ0TkdBQUFBQUFBQUFBQUFBQUFBQUFBQUNNaWVyUUFBQUFDTWxlZEJYNFIvWVRSQkNBQUFBQUFBQUFBQUFBQU50UXdZRkFzbElBQUFBQVNVVk9SSzVDWUlJPSIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIgogICAgfQogIF0KfQ==">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            // Create a simple service worker as a blob
            const swContent = `
                const CACHE_NAME = 'markdown-notes-v1';
                const urlsToCache = [
                    './',
                    'https://unpkg.com/react@18/umd/react.development.js',
                    'https://unpkg.com/react-dom@18/umd/react-dom.development.js',
                    'https://unpkg.com/@babel/standalone/babel.min.js',
                    'https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js',
                    'https://cdn.tailwindcss.com'
                ];

                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => cache.addAll(urlsToCache))
                    );
                });

                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => response || fetch(event.request))
                    );
                });

                self.addEventListener('activate', event => {
                    event.waitUntil(
                        caches.keys().then(cacheNames => {
                            return Promise.all(
                                cacheNames.filter(cacheName => {
                                    return cacheName !== CACHE_NAME;
                                }).map(cacheName => {
                                    return caches.delete(cacheName);
                                })
                            );
                        })
                    );
                });
            `;
            
            const blob = new Blob([swContent], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(blob);
            
            navigator.serviceWorker.register(swUrl).then(registration => {
                console.log('Service Worker registered successfully');
            }).catch(error => {
                console.log('Service Worker registration failed:', error);
            });
        }
    </script>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const MarkdownNotesApp = () => {
          const [currentView, setCurrentView] = useState('editor');
          const [currentNoteId, setCurrentNoteId] = useState(null);
          const [notes, setNotes] = useState({});
          const [isPreview, setIsPreview] = useState(false);
          const [currentContent, setCurrentContent] = useState('');
          const [showExpirationDropdown, setShowExpirationDropdown] = useState(false);
          const [installPrompt, setInstallPrompt] = useState(null);
          const [showInstallBanner, setShowInstallBanner] = useState(false);
          const textareaRef = useRef(null);
          const dropdownRef = useRef(null);
          const saveTimeoutRef = useRef(null);

          useEffect(() => {
            loadNotes();

            const handleClickOutside = (event) => {
              if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                setShowExpirationDropdown(false);
              }
            };
            document.addEventListener('mousedown', handleClickOutside);

            // PWA install prompt
            const handleBeforeInstallPrompt = (e) => {
              e.preventDefault();
              setInstallPrompt(e);
              setShowInstallBanner(true);
            };
            
            window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);

            return () => {
              document.removeEventListener('mousedown', handleClickOutside);
              window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);
            };
          }, []);

          const handleInstallClick = async () => {
            if (installPrompt) {
              installPrompt.prompt();
              const { outcome } = await installPrompt.userChoice;
              if (outcome === 'accepted') {
                setShowInstallBanner(false);
              }
              setInstallPrompt(null);
            }
          };

          const loadNotes = () => {
            try {
              const savedNotes = localStorage.getItem('notes');
              const savedCurrentId = localStorage.getItem('currentNoteId');
              
              if (savedNotes) {
                const parsedNotes = JSON.parse(savedNotes);
                
                const now = new Date();
                const validNotes = {};
                let hasExpired = false;

                Object.values(parsedNotes).forEach(note => {
                  if (!note.expiresAt || new Date(note.expiresAt) > now) {
                    validNotes[note.id] = note;
                  } else {
                    hasExpired = true;
                  }
                });

                if (hasExpired) {
                  try {
                    localStorage.setItem('notes', JSON.stringify(validNotes));
                  } catch (e) {
                    console.log('Could not save cleaned notes');
                  }
                }

                setNotes(validNotes);
                
                if (savedCurrentId && validNotes[savedCurrentId]) {
                  setCurrentNoteId(savedCurrentId);
                  setCurrentContent(validNotes[savedCurrentId].content);
                } else if (Object.keys(validNotes).length > 0) {
                  const firstNoteId = Object.keys(validNotes)[0];
                  setCurrentNoteId(firstNoteId);
                  setCurrentContent(validNotes[firstNoteId].content);
                  try {
                    localStorage.setItem('currentNoteId', firstNoteId);
                  } catch (e) {
                    console.log('Could not save new current note ID');
                  }
                } else {
                  createNewNote();
                }
              } else {
                createNewNote();
              }
            } catch (e) {
              console.log('Could not load notes from localStorage');
              createNewNote();
            }
          };

          const createNewNote = (expirationDays = 0.5) => {
            saveCurrentNote();
            
            const newId = Date.now().toString();
            const defaultContent = ''; // Clean slate - no annoying welcome text
            
            const now = new Date();
            const expiresAt = expirationDays === 'infinite' ? null : new Date(now.getTime() + (expirationDays * 24 * 60 * 60 * 1000));
            
            const newNote = {
              id: newId,
              content: defaultContent,
              createdAt: now.toISOString(),
              updatedAt: now.toISOString(),
              expiresAt: expiresAt ? expiresAt.toISOString() : null
            };

            const updatedNotes = { ...notes, [newId]: newNote };
            setNotes(updatedNotes);
            setCurrentNoteId(newId);
            setCurrentContent(defaultContent);
            setIsPreview(false);

            try {
              localStorage.setItem('notes', JSON.stringify(updatedNotes));
              localStorage.setItem('currentNoteId', newId);
            } catch (e) {
              console.log('Could not save to localStorage');
            }
            
            setCurrentView('editor');
          };

          const saveCurrentNote = () => {
            if (!currentNoteId || !currentContent) return;

            const updatedNote = {
              ...notes[currentNoteId],
              content: currentContent,
              updatedAt: new Date().toISOString()
            };

            const updatedNotes = { ...notes, [currentNoteId]: updatedNote };
            setNotes(updatedNotes);

            try {
              localStorage.setItem('notes', JSON.stringify(updatedNotes));
            } catch (e) {
              console.log('Could not save to localStorage');
            }
          };

          const openNote = (noteId) => {
            saveCurrentNote();
            
            setCurrentNoteId(noteId);
            setCurrentContent(notes[noteId].content);
            setIsPreview(false);

            try {
              localStorage.setItem('currentNoteId', noteId);
            } catch (e) {
              console.log('Could not save current note ID');
            }
            
            setCurrentView('editor');
          };

          const deleteNote = (noteId) => {
            const updatedNotes = { ...notes };
            delete updatedNotes[noteId];
            setNotes(updatedNotes);

            if (currentNoteId === noteId) {
              const remainingIds = Object.keys(updatedNotes);
              if (remainingIds.length > 0) {
                openNote(remainingIds[0]);
              } else {
                setCurrentNoteId(null);
                setCurrentContent('');
                setCurrentView('notes-list');
                try {
                  localStorage.removeItem('currentNoteId');
                } catch (e) {
                  console.log('Could not remove current note ID');
                }
              }
            }

            try {
              localStorage.setItem('notes', JSON.stringify(updatedNotes));
            } catch (e) {
              console.log('Could not save to localStorage');
            }
          };

          const handleTogglePreview = () => {
            if (!isPreview) {
              saveCurrentNote();
            }
            setIsPreview(!isPreview);
          };

          const handleContentChange = (e) => {
            const newContent = e.target.value;
            setCurrentContent(newContent);
            
            if (saveTimeoutRef.current) {
              clearTimeout(saveTimeoutRef.current);
            }
            
            saveTimeoutRef.current = setTimeout(() => {
              if (currentNoteId) {
                const updatedNote = {
                  ...notes[currentNoteId],
                  content: newContent,
                  updatedAt: new Date().toISOString()
                };

                const updatedNotes = { ...notes, [currentNoteId]: updatedNote };
                setNotes(updatedNotes);

                try {
                  localStorage.setItem('notes', JSON.stringify(updatedNotes));
                } catch (e) {
                  console.log('Could not save to localStorage');
                }
              }
            }, 500);
          };

          const setNoteExpiration = (noteId, expirationDays) => {
            if (!notes[noteId]) return;

            const now = new Date();
            const expiresAt = expirationDays === 'infinite' ? null : new Date(now.getTime() + (expirationDays * 24 * 60 * 60 * 1000));
            
            const updatedNote = {
              ...notes[noteId],
              expiresAt: expiresAt ? expiresAt.toISOString() : null,
              updatedAt: now.toISOString()
            };

            const updatedNotes = { ...notes, [noteId]: updatedNote };
            setNotes(updatedNotes);

            try {
              localStorage.setItem('notes', JSON.stringify(updatedNotes));
            } catch (e) {
              console.log('Could not save to localStorage');
            }
          };

          const getDaysRemaining = (note) => {
            if (!note.expiresAt) return 'Permanent';
            
            const now = new Date();
            const expiresAt = new Date(note.expiresAt);
            const diffTime = expiresAt - now;
            const diffHours = Math.ceil(diffTime / (1000 * 60 * 60));
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffTime <= 0) return 'Expired';
            if (diffHours < 24) {
              if (diffHours === 1) return '1 hour';
              return `${diffHours} hours`;
            }
            if (diffDays === 1) return '1 day';
            return `${diffDays} days`;
          };

          const getExpirationOptions = (currentNote = null) => {
            const baseOptions = [
              { label: '12 hours', value: 0.5 },
              { label: '1 day', value: 1 },
              { label: '7 days', value: 7 },
              { label: '30 days', value: 30 },
              { label: 'Permanent', value: 'infinite' }
            ];

            if (!currentNote || !currentNote.expiresAt) {
              return baseOptions.map(option => ({
                ...option,
                isCurrent: option.value === 'infinite'
              }));
            }

            const now = new Date();
            const expiresAt = new Date(currentNote.expiresAt);
            const diffTime = expiresAt - now;
            const remainingHours = diffTime / (1000 * 60 * 60);
            
            let currentValue;
            let currentLabel = getDaysRemaining(currentNote);
            
            if (remainingHours <= 0) {
              currentValue = 'expired';
              currentLabel = 'Expired';
            } else if (remainingHours <= 12) {
              currentValue = 0.5;
            } else if (remainingHours <= 24) {
              currentValue = 1;
            } else {
              currentValue = Math.ceil(remainingHours / 24);
            }

            let hasCurrentOption = baseOptions.some(option => option.value === currentValue);
            
            let options = [...baseOptions];
            
            if (!hasCurrentOption && currentValue !== 'expired') {
              options.splice(-1, 0, {
                label: currentLabel,
                value: remainingHours / 24,
                isCurrent: true
              });
            }

            return options.map(option => ({
              ...option,
              isCurrent: option.value === currentValue || (option.value === 'infinite' && !currentNote.expiresAt)
            }));
          };

          const getNoteTitleFromContent = (content) => {
            const lines = content.split('\n');
            const firstLine = lines[0].trim();
            
            if (firstLine.startsWith('#')) {
              return firstLine.replace(/^#+\s*/, '').substring(0, 50);
            }
            
            for (const line of lines) {
              if (line.trim()) {
                return line.trim().substring(0, 50);
              }
            }
            
            return 'Untitled Note';
          };

          const renderMarkdown = (markdown) => {
            if (!window.marked) return '<p>Loading...</p>';
            return window.marked.parse(markdown);
          };

          const formatDate = (dateString) => {
            const date = new Date(dateString);
            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
          };

          if (currentView === 'notes-list') {
            return React.createElement('div', { className: "min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col" },
              React.createElement('div', { className: "bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 px-4 py-3 flex justify-between items-center" },
                React.createElement('h1', { className: "text-lg font-semibold text-gray-800 dark:text-gray-200" }, "All Notes"),
                React.createElement('button', {
                  onClick: () => {
                    if (Object.keys(notes).length === 0) {
                      createNewNote();
                    } else if (currentNoteId) {
                      setCurrentView('editor');
                    } else {
                      createNewNote();
                    }
                  },
                  className: "px-3 py-1 text-blue-500 dark:text-blue-400 text-sm font-medium"
                }, Object.keys(notes).length === 0 ? 'Create Note' : 'Back')
              ),
              React.createElement('div', { className: "flex-1 p-4" },
                Object.keys(notes).length === 0 ? 
                  React.createElement('div', { className: "flex flex-col items-center justify-center h-full text-center py-20" },
                    React.createElement('div', { className: "text-gray-400 dark:text-gray-500 mb-4" },
                      React.createElement('svg', { width: "64", height: "64", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "1" },
                        React.createElement('path', { d: "M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" }),
                        React.createElement('polyline', { points: "14,2 14,8 20,8" }),
                        React.createElement('line', { x1: "16", y1: "13", x2: "8", y2: "13" }),
                        React.createElement('line', { x1: "16", y1: "17", x2: "8", y2: "17" }),
                        React.createElement('polyline', { points: "10,9 9,9 8,9" })
                      )
                    ),
                    React.createElement('h3', { className: "text-lg font-medium text-gray-900 dark:text-gray-100 mb-2" }, "No notes yet"),
                    React.createElement('p', { className: "text-gray-500 dark:text-gray-400 mb-6" }, "Create your first note to get started"),
                    React.createElement('button', {
                      onClick: () => createNewNote(),
                      className: "px-6 py-3 bg-blue-500 dark:bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors"
                    }, "Create Your First Note")
                  ) :
                  React.createElement('div', { className: "space-y-3" },
                    Object.values(notes).map((note) =>
                      React.createElement('div', {
                        key: note.id,
                        className: "bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border dark:border-gray-700 cursor-pointer hover:shadow-md dark:hover:bg-gray-700 transition-shadow",
                        onClick: () => openNote(note.id)
                      },
                        React.createElement('div', { className: "flex justify-between items-start mb-2" },
                          React.createElement('h3', { className: "font-medium text-gray-900 dark:text-gray-100 flex-1 mr-2" },
                            getNoteTitleFromContent(note.content)
                          ),
                          React.createElement('div', { className: "flex items-center space-x-2" },
                            React.createElement('span', {
                              className: `text-xs px-2 py-1 rounded-full ${
                                getDaysRemaining(note) === 'Permanent' ? 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300' :
                                getDaysRemaining(note) === 'Expired' ? 'bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300' :
                                getDaysRemaining(note).includes('hour') || getDaysRemaining(note) === '1 day' ? 'bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300' :
                                'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300'
                              }`
                            }, getDaysRemaining(note)),
                            React.createElement('button', {
                              onClick: (e) => {
                                e.stopPropagation();
                                deleteNote(note.id);
                              },
                              className: "text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm p-1"
                            },
                              React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                                React.createElement('polyline', { points: "3,6 5,6 21,6" }),
                                React.createElement('path', { d: "M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6" })
                              )
                            )
                          )
                        ),
                        React.createElement('p', { className: "text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2" },
                          note.content.substring(0, 100) + "..."
                        ),
                        React.createElement('p', { className: "text-xs text-gray-400 dark:text-gray-500" },
                          formatDate(note.updatedAt)
                        )
                      )
                    )
                  )
              ),
              Object.keys(notes).length > 0 && React.createElement('button', {
                onClick: () => createNewNote(),
                className: "fixed bottom-6 right-6 w-14 h-14 bg-green-500 dark:bg-green-600 text-white rounded-full shadow-lg active:bg-green-600 dark:active:bg-green-700 transition-colors flex items-center justify-center",
                style: { zIndex: 10 }
              },
                React.createElement('svg', { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                  React.createElement('line', { x1: "12", y1: "5", x2: "12", y2: "19" }),
                  React.createElement('line', { x1: "5", y1: "12", x2: "19", y2: "12" })
                )
              )
            );
          }

          return React.createElement('div', { className: "min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col" },
            // Install banner
            showInstallBanner && React.createElement('div', { 
              className: "bg-blue-500 text-white px-4 py-2 flex items-center justify-between"
            },
              React.createElement('span', { className: "text-sm" }, "Install this app for quick access"),
              React.createElement('div', { className: "flex items-center space-x-2" },
                React.createElement('button', {
                  onClick: handleInstallClick,
                  className: "px-3 py-1 bg-white text-blue-500 rounded text-sm font-medium"
                }, "Install"),
                React.createElement('button', {
                  onClick: () => setShowInstallBanner(false),
                  className: "text-white hover:text-gray-200"
                },
                  React.createElement('svg', { width: "20", height: "20", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                    React.createElement('line', { x1: "18", y1: "6", x2: "6", y2: "18" }),
                    React.createElement('line', { x1: "6", y1: "6", x2: "18", y2: "18" })
                  )
                )
              )
            ),
            React.createElement('div', { className: "bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 px-4 py-3 flex justify-between items-center" },
              React.createElement('h1', { className: "text-lg font-semibold text-gray-800 dark:text-gray-200" }, "Notes"),
              React.createElement('button', {
                onClick: () => {
                  if (currentView === 'editor') {
                    saveCurrentNote();
                  }
                  setCurrentView('notes-list');
                },
                className: "px-3 py-1 text-blue-500 dark:text-blue-400 text-sm font-medium"
              }, Object.keys(notes).length === 0 ? 'Close' : 'All Notes')
            ),
            React.createElement('div', { className: "flex-1 p-4 flex flex-col" },
              Object.keys(notes).length === 0 ? 
                React.createElement('div', { className: "flex flex-col items-center justify-center h-full text-center py-20" },
                  React.createElement('div', { className: "text-gray-400 dark:text-gray-500 mb-4" },
                    React.createElement('svg', { width: "64", height: "64", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "1" },
                      React.createElement('path', { d: "M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" }),
                      React.createElement('polyline', { points: "14,2 14,8 20,8" }),
                      React.createElement('line', { x1: "16", y1: "13", x2: "8", y2: "13" }),
                      React.createElement('line', { x1: "16", y1: "17", x2: "8", y2: "17" }),
                      React.createElement('polyline', { points: "10,9 9,9 8,9" })
                    )
                  ),
                  React.createElement('h3', { className: "text-lg font-medium text-gray-900 dark:text-gray-100 mb-2" }, "No notes yet"),
                  React.createElement('p', { className: "text-gray-500 dark:text-gray-400 mb-6" }, "Create your first note to get started"),
                  React.createElement('button', {
                    onClick: () => createNewNote(),
                    className: "px-6 py-3 bg-blue-500 dark:bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors"
                  }, "Create Your First Note")
                ) :
                React.createElement('div', { className: "bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 flex-1 flex flex-col" },
                  React.createElement('div', { className: "px-4 py-3 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-t-lg flex justify-between items-center" },
                    React.createElement('h2', { className: "font-medium text-gray-900 dark:text-gray-100" },
                      currentNoteId && notes[currentNoteId] ? getNoteTitleFromContent(notes[currentNoteId].content) : 'Untitled Note'
                    ),
                    currentNoteId && notes[currentNoteId] && React.createElement('div', { className: "relative", ref: dropdownRef },
                      React.createElement('button', {
                        onClick: () => setShowExpirationDropdown(!showExpirationDropdown),
                        className: `flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium transition-colors ${
                          getDaysRemaining(notes[currentNoteId]) === 'Permanent' ? 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800' :
                          getDaysRemaining(notes[currentNoteId]) === 'Expired' ? 'bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800' :
                          getDaysRemaining(notes[currentNoteId]).includes('hour') || getDaysRemaining(notes[currentNoteId]) === '1 day' ? 'bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800' :
                          'bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800'
                        }`
                      },
                        React.createElement('span', null, getDaysRemaining(notes[currentNoteId])),
                        React.createElement('svg', {
                          width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2",
                          className: `transition-transform ${showExpirationDropdown ? 'rotate-180' : ''}`
                        },
                          React.createElement('polyline', { points: "6,9 12,15 18,9" })
                        )
                      ),
                      showExpirationDropdown && React.createElement('div', { className: "absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-20 min-w-40" },
                        getExpirationOptions(notes[currentNoteId]).map((option) =>
                          React.createElement('button', {
                            key: option.label,
                            onClick: () => {
                              setNoteExpiration(currentNoteId, option.value);
                              setShowExpirationDropdown(false);
                            },
                            className: `block w-full text-left px-3 py-2 text-sm transition-colors ${
                              option.isCurrent 
                                ? 'bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium' 
                                : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'
                            }`
                          }, option.label + (option.isCurrent ? ' (current)' : ''))
                        )
                      )
                    )
                  ),
                  React.createElement('div', { className: "flex-1 min-h-0" },
                    isPreview ? 
                      React.createElement('div', {
                        className: "markdown-preview h-full p-4 overflow-y-auto",
                        dangerouslySetInnerHTML: { __html: renderMarkdown(currentContent) },
                        style: { lineHeight: '1.6', fontSize: '16px' }
                      }) :
                      React.createElement('textarea', {
                        value: currentContent,
                        onChange: handleContentChange,
                        placeholder: "Start writing in markdown...",
                        className: "w-full h-full p-4 border-0 resize-none focus:outline-none text-base leading-relaxed bg-transparent text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",
                        style: {
                          fontSize: '16px',
                          fontFamily: 'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace'
                        }
                      })
                  ),
                  React.createElement('div', { className: "px-4 py-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-b-lg flex justify-between items-center" },
                    React.createElement('button', {
                      onClick: () => createNewNote(),
                      className: "flex items-center space-x-2 px-4 py-2 bg-green-500 dark:bg-green-600 text-white rounded-md hover:bg-green-600 dark:hover:bg-green-700 transition-colors font-medium text-sm"
                    },
                      React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                        React.createElement('line', { x1: "12", y1: "5", x2: "12", y2: "19" }),
                        React.createElement('line', { x1: "5", y1: "12", x2: "19", y2: "12" })
                      ),
                      React.createElement('span', null, "New Note")
                    ),
                    React.createElement('button', {
                      onClick: handleTogglePreview,
                      className: "flex items-center space-x-2 px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-md hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors font-medium text-sm"
                    },
                      isPreview ? 
                        React.createElement(React.Fragment, null,
                          React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                            React.createElement('path', { d: "M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" }),
                            React.createElement('path', { d: "m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z" })
                          ),
                          React.createElement('span', null, "Edit")
                        ) :
                        React.createElement(React.Fragment, null,
                          React.createElement('svg', { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2" },
                            React.createElement('path', { d: "M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" }),
                            React.createElement('circle', { cx: "12", cy: "12", r: "3" })
                          ),
                          React.createElement('span', null, "Preview")
                        )
                    )
                  )
                )
            )
          );
        };

        ReactDOM.render(React.createElement(MarkdownNotesApp), document.getElementById('root'));
    </script>

    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Light mode markdown styles */
        .markdown-preview h1 { 
            font-size: 1.8em; 
            font-weight: bold; 
            margin: 0.8em 0 0.4em 0; 
            color: #1f2937;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.2em;
        }
        .markdown-preview h2 { 
            font-size: 1.5em; 
            font-weight: bold; 
            margin: 0.6em 0 0.3em 0; 
            color: #374151;
        }
        .markdown-preview h3 { 
            font-size: 1.2em; 
            font-weight: bold; 
            margin: 0.5em 0 0.25em 0; 
            color: #4b5563;
        }
        .markdown-preview ul {
            margin: 0.8em 0;
            padding-left: 1.5em;
            list-style-type: disc;
        }
        .markdown-preview ol {
            margin: 0.8em 0;
            padding-left: 1.5em;
        }
        .markdown-preview li {
            margin: 0.3em 0;
            line-height: 1.5;
        }
        .markdown-preview blockquote {
            border-left: 4px solid #3b82f6;
            padding-left: 1em;
            margin: 1em 0;
            color: #6b7280;
            font-style: italic;
            background-color: #f8fafc;
            padding: 0.8em 1em;
            border-radius: 0 4px 4px 0;
        }
        .markdown-preview code {
            background-color: #f1f5f9;
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-family: ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 0.85em;
            color: #e11d48;
        }
        .markdown-preview pre {
            background-color: #1e293b;
            color: #f1f5f9;
            border-radius: 8px;
            padding: 1.2em;
            overflow-x: auto;
            margin: 1em 0;
            border: 1px solid #334155;
        }
        .markdown-preview pre code {
            background: none;
            padding: 0;
            color: inherit;
            font-size: 0.9em;
        }
        .markdown-preview p {
            margin: 0.8em 0;
            line-height: 1.6;
        }
        .markdown-preview a {
            color: #3b82f6;
            text-decoration: underline;
        }
        .markdown-preview a:hover {
            color: #1d4ed8;
        }
        .markdown-preview strong {
            font-weight: 600;
            color: #1f2937;
        }
        .markdown-preview em {
            font-style: italic;
            color: #4b5563;
        }

        /* Dark mode styles */
        @media (prefers-color-scheme: dark) {
            /* Dark mode markdown styles */
            .markdown-preview h1 { 
                color: #f9fafb;
                border-bottom-color: #4b5563;
            }
            .markdown-preview h2 { 
                color: #e5e7eb;
            }
            .markdown-preview h3 { 
                color: #d1d5db;
            }
            .markdown-preview blockquote {
                border-left-color: #60a5fa;
                color: #9ca3af;
                background-color: #1f2937;
            }
            .markdown-preview code {
                background-color: #374151;
                color: #fbbf24;
            }
            .markdown-preview pre {
                background-color: #111827;
                color: #e5e7eb;
                border-color: #4b5563;
            }
            .markdown-preview p {
                color: #e5e7eb;
            }
            .markdown-preview a {
                color: #60a5fa;
            }
            .markdown-preview a:hover {
                color: #93c5fd;
            }
            .markdown-preview strong {
                color: #f9fafb;
            }
            .markdown-preview em {
                color: #d1d5db;
            }
            .markdown-preview li {
                color: #e5e7eb;
            }
        }
    </style>
</body>
</html>
